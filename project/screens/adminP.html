<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Panel - Users Management</title>
    <link rel="stylesheet" href="../static/css/adminP.css" />
    <script type="module" src="../static/js/adminP.js"></script>
    <!-- Icon font -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body>
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="sidebar-logo">
          <i class="fas fa-cube"></i>
          <span>Admin Panel</span>
        </div>
      </div>
      <ul class="nav-menu">
        <li class="nav-item">
          <div href="#" class="nav-link active">
            <i class="fas fa-tachometer-alt"></i>
            <span>Dashboard</span>
          </div>
        </li>
        <li class="nav-item">
          <div class="nav-link">
            <i class="fas fa-users"></i>
            <span>Users</span>
          </div>
        </li>
        <li class="nav-item">
          <div class="nav-link">
            <i class="fas fa-box"></i>
            <span>Products</span>
          </div>
        </li>
        <li class="nav-item">
          <div class="nav-link">
            <i class="fas fa-shopping-cart"></i>
            <span>Orders</span>
          </div>
        </li>
        <li class="nav-item">
          <div class="nav-link">
            <i class="fas fa-chart-bar"></i>
            <span>Analytics</span>
          </div>
        </li>
        <li class="nav-item">
          <div class="nav-link">
            <i class="fas fa-cog"></i>
            <span>Settings</span>
          </div>
        </li>
        <li class="nav-item">
          <div id="logOut" class="nav-link">
            <i class="fas fa-sign-out-alt"></i>
            <span>Logout</span>
          </div>
        </li>
      </ul>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <div class="header">
        <h1>Users Management</h1>
        <button id="addUserBtn" class="btn btn-primary">
          <i class="fas fa-plus"></i> Add New User
        </button>
      </div>

      <!-- Table -->
      <div class="content-card">
        <!-- table-header | title / search -->
        <div class="table-header">
          <h2 class="table-title">All Users</h2>
          <div class="search-container">
            <i class="fas fa-search search-icon"></i>
            <input
              type="text"
              class="search-input"
              placeholder="Search users..."
            />
          </div>
        </div>

        <!-- table-header | title / search -->
        <div class="table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Role</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="usersTableBody">
              <!-- Table rows will be dynamically generated -->
            </tbody>
          </table>
        </div>

        <!-- pagination -->
        <div class="pagination">
          <!-- <button class="page-btn">
            <i class="fas fa-chevron-left"></i>
          </button> -->
          <button class="page-btn active">1</button>
          <button class="page-btn">2</button>
          <button class="page-btn">3</button>
          <!-- <button class="page-btn">
            <i class="fas fa-chevron-right"></i>
          </button> -->
        </div>
      </div>
    </main>

    <!-- Modal - Add/Edit User -->
    <div id="userModal" class="modal-backdrop">
      <div class="modal">
        <div class="modal-header">
          <h3 id="modalTitle" class="modal-title">Add New User</h3>
          <button class="close-modal">&times;</button>
        </div>
        <div class="modal-body">
          <form id="userForm">
            <input type="hidden" id="userId" />
            <div class="form-group">
              <label for="name">Full Name</label>
              <input
                type="text"
                id="name"
                class="form-control"
                placeholder="Enter full name"
              />
              <span id="nameError" class="error-message"
                >Please enter a valid name</span
              >
            </div>
            <div class="form-group">
              <label for="email">Email Address</label>
              <input
                type="email"
                id="email"
                class="form-control"
                placeholder="Enter email address"
              />
              <span id="emailError" class="error-message"
                >Please enter a valid email address</span
              >
              <span id="emailTakenError" class="error-message"
                >this email is taken</span
              >
            </div>
            <div class="form-group">
              <label for="password">Password</label>
              <input
                type="password"
                id="password"
                class="form-control"
                placeholder="Enter password"
              />
              <span id="passwordError" class="error-message"
                >Password must be at least 3 characters</span
              >
            </div>
            <div class="form-group">
              <label for="role">User Role</label>
              <select id="role" class="form-select">
                <option value="buyer">Buyer</option>
                <option value="admin">Admin</option>
                <option value="seller">Seller</option>
              </select>
              <span id="roleError" class="error-message"
                >Please select a role</span
              >
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button class="btn btn-outline close-modal">Cancel</button>
          <button id="saveUserBtn" class="btn btn-primary">Save User</button>
        </div>
      </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="modal-backdrop">
      <div class="modal">
        <div class="modal-header">
          <h3 class="modal-title">Confirm Delete</h3>
          <button class="close-modal">&times;</button>
        </div>
        <div class="modal-body">
          <p>
            Are you sure you want to delete this user? This action cannot be
            undone.
          </p>
          <input type="hidden" id="deleteUserId" />
        </div>
        <div class="modal-footer">
          <button class="btn btn-outline close-modal">Cancel</button>
          <button id="confirmDeleteBtn" class="btn btn-danger">
            Delete User
          </button>
        </div>
      </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toastContainer"></div>
  </body>
</html>
